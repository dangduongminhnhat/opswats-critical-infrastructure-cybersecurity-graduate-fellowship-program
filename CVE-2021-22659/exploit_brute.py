import socket

Port = 502
Ip = "192.168.93.89"

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((Ip, Port))

registers = 100
transaction_id = b"\x00\x1a"
protocol_id = b"\x00\x00"
length_field = b"\x00" + int.to_bytes(7 + 2  * registers)
unit_id = b"\x01"
function_code = b"\x10"

for i in range(0, 2 ** 15 - 1):
    num = hex(i)[2:]
    size = len(num)
    num = "0" * (4 - size) + num
    data = B"\x00\x00\x00\x64\xc8" + bytes.fromhex(num) * registers
    payload = transaction_id + protocol_id + length_field + unit_id + function_code + data
    s.send(payload)
    s.recv(1024)

# 001a0000001b01100000000a140000000000000000000000000000000000000000